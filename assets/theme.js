(()=>{function s(){let a=document.querySelectorAll('a[href="#ravekit-product"]');a.length&&a.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();let n=document.getElementById("ravekit-product");n&&n.scrollIntoView({behavior:"smooth",block:"start"})})})}function d(){let a=document.querySelectorAll("[data-accordion-trigger]"),t=document.querySelectorAll("[data-accordion-content]");if(!a.length||!t.length){console.warn("No titles or contents found for science accordion.");return}a.forEach(e=>{e.addEventListener("click",n=>{let i=e.dataset.index;a.forEach(r=>r.classList.remove("is-active")),t.forEach(r=>r.classList.remove("is-active")),e.classList.add("is-active");let c=document.querySelector(`.science-accordion__item-content[data-content-index="${i}"]`);c?c.classList.add("is-active"):console.warn("No content found for index:",i)})})}var o=class{constructor(t){this.container=t,this.variantButtons=t.querySelectorAll(".variant-button"),this.variantInput=t.querySelector(".variant-id-input"),this.minusBtn=t.querySelector(".quantity-decrease"),this.plusBtn=t.querySelector(".quantity-increase"),this.quantityInput=t.querySelector(".quantity-input"),this.addToCartBtn=t.querySelector(".add-to-cart"),this.selectedVariantId=null,this.bindEvents()}bindEvents(){var t,e,n;this.variantButtons.forEach(i=>{i.addEventListener("click",()=>this.selectVariant(i))}),(t=this.minusBtn)==null||t.addEventListener("click",()=>this.changeQuantity(-1)),(e=this.plusBtn)==null||e.addEventListener("click",()=>this.changeQuantity(1)),(n=this.addToCartBtn)==null||n.addEventListener("click",i=>{i.preventDefault(),this.addToCart()})}selectVariant(t){let e=t.getAttribute("data-variant-id");console.log("[RavekitProduct] Selecting variant ID:",e),e&&(this.selectedVariantId=e),this.variantButtons.forEach(n=>n.classList.remove("selected")),t.classList.add("selected")}changeQuantity(t){let e=parseInt(this.quantityInput.value,10)||1;e=Math.max(e+t,1),console.log("[RavekitProduct] Changing quantity to:",e),this.quantityInput.value=e}addToCart(){let t=this.selectedVariantId,e=parseInt(this.quantityInput.value,10)||1;if(!t){console.error("[RavekitProduct] No variant selected."),alert("Por favor selecciona una variante primero.");return}fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,quantity:e})}).then(n=>{if(!n.ok)throw new Error("Network error");return n.json()}).then(n=>{alert("Producto agregado al carrito exitosamente")}).catch(n=>{console.error("[RavekitProduct] Failed to add to cart:",n)})}};document.addEventListener("DOMContentLoaded",()=>{d(),document.querySelectorAll(".ravekit-product").forEach(a=>{new o(a)}),s()});})();
